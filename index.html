<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Peoplerep Gravity Calculator with Full Metric Units & Commas</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 560px;
    margin: 2rem auto;
    padding: 1rem;
    background: #f9fbfd;
    border-radius: 8px;
    box-shadow: 0 0 12px rgba(0,0,0,0.1);
  }
  h1 {
    text-align: center;
    color: #222;
    margin-bottom: 0.25rem;
  }
  .formula {
    font-style: italic;
    text-align: center;
    margin-bottom: 1rem;
    color: #555;
  }
  label {
    font-weight: bold;
    margin-top: 1rem;
    display: block;
    color: #333;
  }
  input[type="text"] {
    width: 48%;
    padding: 0.5rem;
    margin-top: 0.25rem;
    border-radius: 4px;
    border: 1px solid #ccc;
    font-size: 1rem;
  }
  select {
    width: 48%;
    padding: 0.5rem;
    margin-top: 0.25rem;
    margin-left: 4%;
    border-radius: 4px;
    border: 1px solid #ccc;
    font-size: 1rem;
  }
  button, .preset-btn {
    margin-top: 1.5rem;
    width: 100%;
    padding: 0.75rem;
    font-weight: bold;
    background-color: #007acc;
    border: none;
    color: white;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1.1rem;
    transition: background-color 0.3s ease;
  }
  button:hover, .preset-btn:hover {
    background-color: #005fa3;
  }
  .result {
    margin-top: 1.75rem;
    font-size: 1.3rem;
    font-weight: bold;
    color: #111;
    text-align: center;
    min-height: 2em;
    white-space: pre-wrap;
    word-break: break-word;
  }
  .presets {
    margin-top: 1rem;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
  }
  .preset-btn {
    width: auto;
    padding: 0.5rem 1rem;
    font-weight: normal;
  }
</style>
</head>
<body>
  <h1>Peoplerep Gravity Calculator (GDT)</h1>
  <div class="formula">g = (4πG / 3) × ρ × r</div>

  <label for="mass">Mass Density Value (ρ):</label>
  <input type="text" id="mass" placeholder="e.g. 5,510" />
  <select id="massUnit">
    <option value="mg">milligrams (mg)</option>
    <option value="g">grams (g)</option>
    <option value="kg" selected>kilograms (kg)</option>
    <option value="ton">tons (metric)</option>
  </select>

  <label for="volume">Volume Unit:</label>
  <select id="volumeUnit">
    <option value="mm3">cubic millimeters (mm³)</option>
    <option value="cm3">cubic centimeters (cm³)</option>
    <option value="ml">milliliters (mL)</option>
    <option value="l">liters (L)</option>
    <option value="m3" selected>cubic meters (m³)</option>
  </select>

  <label for="radius">Radius (r):</label>
  <input type="text" id="radius" placeholder="e.g. 6,371,000" />
  <select id="radiusUnit">
    <option value="mm">millimeters (mm)</option>
    <option value="cm">centimeters (cm)</option>
    <option value="m" selected>meters (m)</option>
    <option value="km">kilometers (km)</option>
  </select>

  <button onclick="calculateGravity()">Calculate Gravity (g)</button>
  <div class="result" id="result"></div>

  <div class="presets">
    <button class="preset-btn" onclick="fillPreset('earth')">Earth</button>
    <button class="preset-btn" onclick="fillPreset('jupiter')">Jupiter</button>
    <button class="preset-btn" onclick="fillPreset('saturn')">Saturn</button>
    <button class="preset-btn" onclick="fillPreset('neutron')">Neutron Star</button>
  </div>

<script>
  const G = 6.674e-11; // gravitational constant m^3/kg/s^2

  function parseNumber(input) {
    return parseFloat(input.replace(/[, ]+/g, ''));
  }

  function convertMassToKg(value, unit) {
    switch(unit) {
      case 'mg': return value / 1e6;
      case 'g': return value / 1000;
      case 'kg': return value;
      case 'ton': return value * 1000;
    }
    return value;
  }

  function convertVolumeToM3(unit) {
    switch(unit) {
      case 'mm3': return 1e-9;
      case 'cm3': return 1e-6;
      case 'ml': return 1e-6;
      case 'l': return 0.001;
      case 'm3': return 1;
    }
    return 1;
  }

  function convertLengthToMeters(value, unit) {
    switch(unit) {
      case 'mm': return value / 1000;
      case 'cm': return value / 100;
      case 'm': return value;
      case 'km': return value * 1000;
    }
    return value;
  }

  function formatNumberFullDecimals(num) {
    if (!isFinite(num)) return num.toString();
    let s = num.toFixed(15);
    s = s.replace(/\.?0+$/, '');
    let parts = s.split('.');
    parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    return parts.join('.');
  }

  function calculateGravity() {
    const massVal = parseNumber(document.getElementById('mass').value);
    const massUnit = document.getElementById('massUnit').value;
    const volUnit = document.getElementById('volumeUnit').value;
    const radVal = parseNumber(document.getElementById('radius').value);
    const radUnit = document.getElementById('radiusUnit').value;
    const out = document.getElementById('result');

    if (isNaN(massVal) || massVal <= 0) {
      alert('Please enter a valid positive number for mass density.');
      return;
    }
    if (isNaN(radVal) || radVal <= 0) {
      alert('Please enter a valid positive number for radius.');
      return;
    }

    const massKg = convertMassToKg(massVal, massUnit);
    const volM3 = convertVolumeToM3(volUnit);
    const density = massKg / volM3;
    const radM = convertLengthToMeters(radVal, radUnit);
    const g = (4 * Math.PI * G / 3) * density * radM;

    out.textContent = 
      `Surface gravity (g) = ${formatNumberFullDecimals(g)} m/s²

` +
      `Density used: ${formatNumberFullDecimals(density)} kg/m³
` +
      `Radius used: ${formatNumberFullDecimals(radM)} meters`;
  }

  function fillPreset(planet) {
    switch(planet) {
      case 'earth':
        document.getElementById('mass').value = '5.51';
        document.getElementById('massUnit').value = 'ton';
        document.getElementById('volumeUnit').value = 'm3';
        document.getElementById('radius').value = '6371';
        document.getElementById('radiusUnit').value = 'km';
        break;
      case 'jupiter':
        document.getElementById('mass').value = '1.33';
        document.getElementById('massUnit').value = 'ton';
        document.getElementById('volumeUnit').value = 'm3';
        document.getElementById('radius').value = '71492';
        document.getElementById('radiusUnit').value = 'km';
        break;
      case 'saturn':
        document.getElementById('mass').value = '0.69';
        document.getElementById('massUnit').value = 'ton';
        document.getElementById('volumeUnit').value = 'm3';
        document.getElementById('radius').value = '60268';
        document.getElementById('radiusUnit').value = 'km';
        break;
      case 'neutron':
        document.getElementById('mass').value = '1e17';
        document.getElementById('massUnit').value = 'kg';
        document.getElementById('volumeUnit').value = 'm3';
        document.getElementById('radius').value = '10';
        document.getElementById('radiusUnit').value = 'km';
        break;
    }
    out.textContent = '';
  }
</script>
</body>
</html>